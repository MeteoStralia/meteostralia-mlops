schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\data\new_data\
      hash: md5
      md5: a47c9ef9e0955028669e7cbf86363047.dir
      size: 403675
      nfiles: 4
    - path: .\data\raw_data\weatherAUS.csv
      hash: md5
      md5: 38be9d9fce05fc044df3443939cdd18d
      size: 14239516
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: 337f06d582af51b3ea4d958224da7d36
      size: 695
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: fbd7b709701cfd238db243ab0b545e70
      size: 18947697
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: fbd7b709701cfd238db243ab0b545e70
      size: 18947697
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: 1da3c35a4a11a49888fbce280a249606
      size: 3405
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: fbd7b709701cfd238db243ab0b545e70
      size: 18947697
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: e271ead15e5571d0137bdb3c9f375cf5
      size: 5051
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: fbd7b709701cfd238db243ab0b545e70
      size: 18947697
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: df2d2a4bb176ae04e8ea255d59fc6f13
      size: 20355932
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: df2d2a4bb176ae04e8ea255d59fc6f13
      size: 20355932
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 88e8d35099a609f996351cacae50c9e9
      size: 1904
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: fa4ee59791a4a932826e72fd01293c25
      size: 22864484
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: fa4ee59791a4a932826e72fd01293c25
      size: 22864484
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: b5b7a49dfb0e611a422fec0b7bb8d299
      size: 8798
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: ad7241a64c1d9b4c80bd2b0acab0c231
      size: 46918828
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: ad7241a64c1d9b4c80bd2b0acab0c231
      size: 46918828
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 808f8d4e53208372ae64df10168410a4
      size: 2912
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: 1381dfcf81013329ced4ce6cbbf4a37b
      size: 7250302
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: f2f21b3e263a24e337662bc4f7891951
      size: 28997744
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 648fb77abaaf20d75aa4061b645b8410
      size: 79217
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 0a734dd794a8083a4005c3de149b04e3
      size: 316826
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: 1381dfcf81013329ced4ce6cbbf4a37b
      size: 7250302
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: f2f21b3e263a24e337662bc4f7891951
      size: 28997744
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: 0e73892e9e78ec008fb1f77a71b9fbc6
      size: 1584
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: 5c37758219094fa200b035acbf754f22
      size: 15590076
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 194d212fb73c33bf958ec6c9efd088e2
      size: 62351876
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 194d212fb73c33bf958ec6c9efd088e2
      size: 62351876
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 0a734dd794a8083a4005c3de149b04e3
      size: 316826
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: f6d56ca1c9471835828fde04a2851b55
      size: 2112
    outs:
    - path: ./models/
      hash: md5
      md5: 1afca62d26892226300bfdc54c30d3da.dir
      size: 3867
      nfiles: 1
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: 5c37758219094fa200b035acbf754f22
      size: 15590076
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 648fb77abaaf20d75aa4061b645b8410
      size: 79217
    - path: ./models/
      hash: md5
      md5: 1afca62d26892226300bfdc54c30d3da.dir
      size: 3867
      nfiles: 1
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: 9fa80a34434cddc7e1753d61baba527b
      size: 2859
    outs:
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: 571951a2f545fd2ad4e8a3cfe695db1a
      size: 221
