schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: ae75c885f849bb87bb8bde2b666b51bf
      size: 465
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 4858cb3ac07a58b4da9c0e68e96417e6
      size: 15600997
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 4858cb3ac07a58b4da9c0e68e96417e6
      size: 15600997
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: a8c751d50709118b6d29ee0cfe11f0d5
      size: 3115
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 596eff1dc5841b1afe45784c35df405f
      size: 18912152
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: 7a512498f6d9282115eac162affffb41
      size: 5667
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 596eff1dc5841b1afe45784c35df405f
      size: 18912152
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 85a5be25aeb35c328b8efb8513d9be9a
      size: 19995915
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 85a5be25aeb35c328b8efb8513d9be9a
      size: 19995915
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 4e392d09f0fab66aef7098be6f10f55d
      size: 1343
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: b2ad742b0b4e6b798d4f58fcbbed8def
      size: 21002430
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: b2ad742b0b4e6b798d4f58fcbbed8def
      size: 21002430
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: b2d605a7217abecd2d1ed09656386d63
      size: 4654
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: b9d6607bd446b6b3b88b54bcdf2d7f5e
      size: 44260074
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: b9d6607bd446b6b3b88b54bcdf2d7f5e
      size: 44260074
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 34442b237577c0bcb63087102b4c3f6e
      size: 2844
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: ea37632546f998fa441db698c783399c
      size: 6767803
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 71830d08ff9be9f7b1ee84e7c80b77ee
      size: 27061253
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 1f048081a5b9fb6ba46f69391f5687c8
      size: 52135
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 44588a3f87d80f0bbea71743cc331cdb
      size: 208493
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: ea37632546f998fa441db698c783399c
      size: 6767803
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 71830d08ff9be9f7b1ee84e7c80b77ee
      size: 27061253
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: ea5c8c66b7b8854d8e433bbeef5919c5
      size: 1236
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: 44aaeb55c459c9f713d8ff58328586a1
      size: 14953917
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 059c69f758b6c1aca51cdaa201624ad5
      size: 58535000
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 059c69f758b6c1aca51cdaa201624ad5
      size: 58535000
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 44588a3f87d80f0bbea71743cc331cdb
      size: 208493
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: 5e0331a6e3284a369777cb33c306b3db
      size: 2067
    outs:
    - path: ./models/
      hash: md5
      md5: 27d92bb51a90bb68d83be83faf16088b.dir
      size: 3659
      nfiles: 1
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: 44aaeb55c459c9f713d8ff58328586a1
      size: 14953917
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 1f048081a5b9fb6ba46f69391f5687c8
      size: 52135
    - path: ./models/
      hash: md5
      md5: 27d92bb51a90bb68d83be83faf16088b.dir
      size: 3659
      nfiles: 1
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: 9fa80a34434cddc7e1753d61baba527b
      size: 2859
    outs:
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: d13da392e8be6c377975a781d11be570
      size: 222
