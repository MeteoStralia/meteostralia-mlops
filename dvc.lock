schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: 337f06d582af51b3ea4d958224da7d36
      size: 695
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: c42cbfccbd35b8832fcefc4a07b8862a
      size: 18722778
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: c42cbfccbd35b8832fcefc4a07b8862a
      size: 18722778
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: 1da3c35a4a11a49888fbce280a249606
      size: 3405
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: c42cbfccbd35b8832fcefc4a07b8862a
      size: 18722778
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: e271ead15e5571d0137bdb3c9f375cf5
      size: 5051
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: c42cbfccbd35b8832fcefc4a07b8862a
      size: 18722778
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 9b9319f8179e6f5dd0aec943c9b32e86
      size: 20124458
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 9b9319f8179e6f5dd0aec943c9b32e86
      size: 20124458
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 88e8d35099a609f996351cacae50c9e9
      size: 1904
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: b7954709c539e3f71e999f6ac56405b1
      size: 22622293
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: b7954709c539e3f71e999f6ac56405b1
      size: 22622293
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: b5b7a49dfb0e611a422fec0b7bb8d299
      size: 8798
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: bb1cb1ca97b7e964b3c56f55038e6ba3
      size: 46284702
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: bb1cb1ca97b7e964b3c56f55038e6ba3
      size: 46284702
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 808f8d4e53208372ae64df10168410a4
      size: 2912
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: 929d460857b872fe15075c753e7555d2
      size: 7137725
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 9c4a42d1af9b4d07e5b0573361919cc1
      size: 28549560
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 19ba789825be4d555918198b5a77035b
      size: 52573
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 4f02c4507b841fc73ef978f4458be9e9
      size: 210247
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: 929d460857b872fe15075c753e7555d2
      size: 7137725
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 9c4a42d1af9b4d07e5b0573361919cc1
      size: 28549560
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: 0e73892e9e78ec008fb1f77a71b9fbc6
      size: 1584
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: d68fe5df65fdcbde28cff506725ec4c3
      size: 15101725
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: c60e7a3c020110aaa6aead27332e4841
      size: 60407004
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: c60e7a3c020110aaa6aead27332e4841
      size: 60407004
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 4f02c4507b841fc73ef978f4458be9e9
      size: 210247
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: f6d56ca1c9471835828fde04a2851b55
      size: 2112
    outs:
    - path: ./models/
      hash: md5
      md5: e359ec2c6c7c6357f05e19036555e735.dir
      size: 3851
      nfiles: 1
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: d68fe5df65fdcbde28cff506725ec4c3
      size: 15101725
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 19ba789825be4d555918198b5a77035b
      size: 52573
    - path: ./models/
      hash: md5
      md5: e359ec2c6c7c6357f05e19036555e735.dir
      size: 3851
      nfiles: 1
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: 9fa80a34434cddc7e1753d61baba527b
      size: 2859
    outs:
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: c565ede7eb9774c5e1294536ca9aa9c3
      size: 221
