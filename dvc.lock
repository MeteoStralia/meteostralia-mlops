schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: ae75c885f849bb87bb8bde2b666b51bf
      size: 465
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 596eff1dc5841b1afe45784c35df405f
      size: 18912152
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 596eff1dc5841b1afe45784c35df405f
      size: 18912152
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: a8c751d50709118b6d29ee0cfe11f0d5
      size: 3115
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 596eff1dc5841b1afe45784c35df405f
      size: 18912152
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: 6041954218400fbc0ab7430e6ed0e0ce
      size: 5682
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 596eff1dc5841b1afe45784c35df405f
      size: 18912152
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 1de7b2d3339610292d177693dbff8940
      size: 20295018
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 1de7b2d3339610292d177693dbff8940
      size: 20295018
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 4e392d09f0fab66aef7098be6f10f55d
      size: 1343
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: f07ca01397de256f49648be11169f92e
      size: 21301925
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: f07ca01397de256f49648be11169f92e
      size: 21301925
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: b2d605a7217abecd2d1ed09656386d63
      size: 4654
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: 388fd08779b9cc6e3139a952f984548d
      size: 44859508
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: 388fd08779b9cc6e3139a952f984548d
      size: 44859508
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 34442b237577c0bcb63087102b4c3f6e
      size: 2844
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: b4bc0221918b840808af65bcc6b99a07
      size: 6849079
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 56f468aecabe14c886868e312fbef68e
      size: 27385582
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 5fb9a34660cc25eb22f66fed197901be
      size: 78230
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: e7f731efbea15f3cc2fa4adaa889084c
      size: 312869
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: b4bc0221918b840808af65bcc6b99a07
      size: 6849079
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 56f468aecabe14c886868e312fbef68e
      size: 27385582
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: ea5c8c66b7b8854d8e433bbeef5919c5
      size: 1236
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: ffbf3580ef6d7d794c6a2a9eebf9c0f2
      size: 15088809
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 95ad82c8aabbbd44c9da8d7c330aceca
      size: 59111025
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 95ad82c8aabbbd44c9da8d7c330aceca
      size: 59111025
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: e7f731efbea15f3cc2fa4adaa889084c
      size: 312869
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: 2bfecdce8c2e77fdbccbbf964c50d881
      size: 2257
    outs:
    - path: ./models/
      hash: md5
      md5: c80885fbbf60a74a8931415d935fd6b2.dir
      size: 3675
      nfiles: 1
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: ffbf3580ef6d7d794c6a2a9eebf9c0f2
      size: 15088809
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 5fb9a34660cc25eb22f66fed197901be
      size: 78230
    - path: ./models/
      hash: md5
      md5: c80885fbbf60a74a8931415d935fd6b2.dir
      size: 3675
      nfiles: 1
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: 9fa80a34434cddc7e1753d61baba527b
      size: 2859
    outs:
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: 180dc60cdaee7d0101b915aa59f98e72
      size: 222
