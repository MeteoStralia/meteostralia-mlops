schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\data\new_data\
      hash: md5
      md5: 549fabfac6d84d2258d5fd509cb35ca1.dir
      size: 386314
      nfiles: 3
    - path: .\data\raw_data\weatherAUS.csv
      hash: md5
      md5: 38be9d9fce05fc044df3443939cdd18d
      size: 14239516
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: 6d951c234aa7b88fade2e4a0ccc6bb93
      size: 847
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 611a54f78b3cf82dff2809b24c24309f
      size: 18846859
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 611a54f78b3cf82dff2809b24c24309f
      size: 18846859
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: 1731b8066666703db050bd58ee4ad741
      size: 2914
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 611a54f78b3cf82dff2809b24c24309f
      size: 18846859
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: 7d7aeffbf1a4caa26668760f69a22e55
      size: 5282
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 611a54f78b3cf82dff2809b24c24309f
      size: 18846859
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 0c72ec71ab80fc52bd54c686a5eb5116
      size: 20257786
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 0c72ec71ab80fc52bd54c686a5eb5116
      size: 20257786
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 2fa4fb8bce43053c6a811f5559f7f508
      size: 1952
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 5a430fe05bb5d13b91a4ca27100eeecd
      size: 22774760
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 5a430fe05bb5d13b91a4ca27100eeecd
      size: 22774760
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: 3fa546642b1ecbe6d5c3aa27a7c54d67
      size: 8509
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: 1ecbb7ab77564417c357dbc6b87faf1a
      size: 46888321
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: 1ecbb7ab77564417c357dbc6b87faf1a
      size: 46888321
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 57144aa3cd9f4b1dfbd4b8ad1e8842f3
      size: 3308
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: 3bba7d711bcc5d63cf634649d4e2a5e6
      size: 7242588
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: a7700d063b7aaf3ec46492cf20193f52
      size: 28966734
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 71b8682e445ef4472425b19d7747c162
      size: 52953
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 11b651cf81ff82f066fa017aa88ae479
      size: 211771
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: 3bba7d711bcc5d63cf634649d4e2a5e6
      size: 7242588
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: a7700d063b7aaf3ec46492cf20193f52
      size: 28966734
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: b7589885b9d573db04685b3ab0e4b761
      size: 1932
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: e58e4d7c42fc2f2d8c8afaea64419a27
      size: 15317268
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 8a1668e0b40d1f9c32156c22e89c25c4
      size: 61263023
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 8a1668e0b40d1f9c32156c22e89c25c4
      size: 61263023
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 11b651cf81ff82f066fa017aa88ae479
      size: 211771
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: d9b54a902621d2176d7b683be9d8a8f2
      size: 2721
    outs:
    - path: ./models/
      hash: md5
      md5: 6e01f81c42f216e012691adea1f3491c.dir
      size: 9585332
      nfiles: 2
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: e58e4d7c42fc2f2d8c8afaea64419a27
      size: 15317268
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 71b8682e445ef4472425b19d7747c162
      size: 52953
    - path: ./models/
      hash: md5
      md5: a08a8807dd24b62c2bd785e0d8c2b377.dir
      size: 9446132
      nfiles: 2
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: 45dba6da13d66e52811dd8717b4422c7
      size: 4130
    outs:
    - path: ./metrics/
      hash: md5
      md5: 12d4fa601b8e3a252d91bf77492fa513.dir
      size: 516
      nfiles: 2
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: 964dd29af8e727cd725e8df0de443f20
      size: 259
  mlflow_setup:
    cmd: python .\src\tracking_service\mlflow\experiment_setup.py
    deps:
    - path: .\src\tracking_service\mlfow\experiment_setup.py
      hash: md5
      md5: 75e59ffa21e9ba86176b67426a208947
      size: 1436
    outs:
    - path: .\data\parameters
      hash: md5
      md5: 4589f5aaa663b8f8ec1f6136b07a8a2b.dir
      size: 2227
      nfiles: 4
