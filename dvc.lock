schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\data\new_data\
      hash: md5
      md5: 75f96cfce2d66c74f633867d78cfb85e.dir
      size: 157688
      nfiles: 2
    - path: .\data\raw_data\weatherAUS.csv
      hash: md5
      md5: 38be9d9fce05fc044df3443939cdd18d
      size: 14239516
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: 6d951c234aa7b88fade2e4a0ccc6bb93
      size: 847
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 7cb2fbb6947aba489a418354242d91d8
      size: 18691706
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: 7cb2fbb6947aba489a418354242d91d8
      size: 18691706
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: 1731b8066666703db050bd58ee4ad741
      size: 2914
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 7cb2fbb6947aba489a418354242d91d8
      size: 18691706
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: 7d7aeffbf1a4caa26668760f69a22e55
      size: 5282
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: 7cb2fbb6947aba489a418354242d91d8
      size: 18691706
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 42ccf4b589d93aae020176291952c72b
      size: 20080446
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 42ccf4b589d93aae020176291952c72b
      size: 20080446
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 2fa4fb8bce43053c6a811f5559f7f508
      size: 1952
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 29d8ce1f03382b5710ceb8a560d8a78f
      size: 22576616
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 29d8ce1f03382b5710ceb8a560d8a78f
      size: 22576616
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: 3fa546642b1ecbe6d5c3aa27a7c54d67
      size: 8509
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: 46c2094226d7dc825ea69e6d7ad339b9
      size: 46491127
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: 46c2094226d7dc825ea69e6d7ad339b9
      size: 46491127
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 57144aa3cd9f4b1dfbd4b8ad1e8842f3
      size: 3308
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: dbb725551dfb5183f26e660099373856
      size: 7166083
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 839c3fc7f23eeb6c9937a308c1252303
      size: 28653343
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 4f1574d44157beac8f84085076a07046
      size: 52377
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 9981cd178c956c894e63b23efad6bda5
      size: 209467
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: dbb725551dfb5183f26e660099373856
      size: 7166083
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 839c3fc7f23eeb6c9937a308c1252303
      size: 28653343
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: b7589885b9d573db04685b3ab0e4b761
      size: 1932
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: bfef17848b91a09cd71c48b79a1c3401
      size: 15451093
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 236dc7e875162ff55c1d2356d4a5bea1
      size: 61767584
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 236dc7e875162ff55c1d2356d4a5bea1
      size: 61767584
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: 9981cd178c956c894e63b23efad6bda5
      size: 209467
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: d9b54a902621d2176d7b683be9d8a8f2
      size: 2721
    outs:
    - path: ./models/
      hash: md5
      md5: 84d6564ea29f82dabc255b0f1d478a94.dir
      size: 9470772
      nfiles: 2
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: bfef17848b91a09cd71c48b79a1c3401
      size: 15451093
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 4f1574d44157beac8f84085076a07046
      size: 52377
    - path: ./models/
      hash: md5
      md5: 84d6564ea29f82dabc255b0f1d478a94.dir
      size: 9470772
      nfiles: 2
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: d6c9caf70db5505851b5f92fb298eb07
      size: 3918
    outs:
    - path: ./metrics/
      hash: md5
      md5: 3cebcdf9161d32a518efd0401b7ff1fd.dir
      size: 518
      nfiles: 2
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: 964dd29af8e727cd725e8df0de443f20
      size: 259
  mlflow_setup:
    cmd: python .\src\tracking_service\mlflow\experiment_setup.py
    deps:
    - path: .\src\tracking_service\mlfow\experiment_setup.py
      hash: md5
      md5: 2e9d3cfc8c8e83efd4f4ca5d6d706236
      size: 1430
    outs:
    - path: .\data\parameters
      hash: md5
      md5: 2b34d0c6e7721150ac9f8d6aaecf71a2.dir
      size: 2025
      nfiles: 4
