schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: 337f06d582af51b3ea4d958224da7d36
      size: 695
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: eb85003e952e87ec9bfec523cde28fde
      size: 18717101
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: eb85003e952e87ec9bfec523cde28fde
      size: 18717101
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: 1da3c35a4a11a49888fbce280a249606
      size: 3405
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: eb85003e952e87ec9bfec523cde28fde
      size: 18717101
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: e271ead15e5571d0137bdb3c9f375cf5
      size: 5051
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: eb85003e952e87ec9bfec523cde28fde
      size: 18717101
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 8f07f1341ae041f6844611ee2512df34
      size: 20115789
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 8f07f1341ae041f6844611ee2512df34
      size: 20115789
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 88e8d35099a609f996351cacae50c9e9
      size: 1904
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 694901dd0668b5e6652871fcc817092c
      size: 22614971
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 694901dd0668b5e6652871fcc817092c
      size: 22614971
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: b5b7a49dfb0e611a422fec0b7bb8d299
      size: 8798
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: eb75a71d66c330dff38f2bbdb611a678
      size: 46270138
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: eb75a71d66c330dff38f2bbdb611a678
      size: 46270138
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 808f8d4e53208372ae64df10168410a4
      size: 2912
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: bd45228dbefa224859614be66d099972
      size: 7135699
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 0b79989524a181be4b09b1756995ab7d
      size: 28539933
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 084a8c0871e2083bd02877ee0dd9bcd0
      size: 52555
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: bcea3c3cce947d60e352ae52a59d2e01
      size: 210179
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: bd45228dbefa224859614be66d099972
      size: 7135699
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 0b79989524a181be4b09b1756995ab7d
      size: 28539933
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: 0e73892e9e78ec008fb1f77a71b9fbc6
      size: 1584
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: b11ee80f08d15d7dcdc73a5e0d39fd22
      size: 15380577
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 6ecb2a607daf788e373830abeb3712ab
      size: 61524407
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: 6ecb2a607daf788e373830abeb3712ab
      size: 61524407
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: bcea3c3cce947d60e352ae52a59d2e01
      size: 210179
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: f6d56ca1c9471835828fde04a2851b55
      size: 2112
    outs:
    - path: ./models/
      hash: md5
      md5: 69f7d5be8e08e0c656511bbedddc0181.dir
      size: 3851
      nfiles: 1
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: b11ee80f08d15d7dcdc73a5e0d39fd22
      size: 15380577
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 084a8c0871e2083bd02877ee0dd9bcd0
      size: 52555
    - path: ./models/
      hash: md5
      md5: 69f7d5be8e08e0c656511bbedddc0181.dir
      size: 3851
      nfiles: 1
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: 9fa80a34434cddc7e1753d61baba527b
      size: 2859
    outs:
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: b1e004f8fb92278e078f791e503487ef
      size: 222
