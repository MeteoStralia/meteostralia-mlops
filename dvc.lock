schema: '2.0'
stages:
  reset_data:
    cmd: python .\src\data_service\ingest_data\reset_data.py
    deps:
    - path: .\data\new_data\
      hash: md5
      md5: 7aefb41caf7eaf476d2337b9630ae496.dir
      size: 78844
      nfiles: 1
    - path: .\data\raw_data\weatherAUS.csv
      hash: md5
      md5: 38be9d9fce05fc044df3443939cdd18d
      size: 14239516
    - path: .\src\data_service\ingest_data\reset_data.py
      hash: md5
      md5: 7c77655bbaf34e8513dfe12e2c3032cc
      size: 881
    outs:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: d5721d845208a7459038eef856fa93ae
      size: 18806471
  ingest_new_data:
    cmd: python .\src\data_service\ingest_data\ingest_new_data.py
    deps:
    - path: .\data\current_data\current_data.csv
      hash: md5
      md5: d5721d845208a7459038eef856fa93ae
      size: 18806471
    - path: .\src\data_service\ingest_data\ingest_new_data.py
      hash: md5
      md5: 4e19edd1dddbe12a318db54a131c818b
      size: 3011
    outs:
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: d5721d845208a7459038eef856fa93ae
      size: 18806471
  complete_nas:
    cmd: python ./src/data_service/complete_nas/complete_nas.py
    deps:
    - path: ./src/data_service/complete_nas/complete_nas.py
      hash: md5
      md5: b9acac6afc3bd622fe522507d893623b
      size: 5188
    - path: .\data\current_data\uptodate_data.csv
      hash: md5
      md5: d5721d845208a7459038eef856fa93ae
      size: 18806471
    outs:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 963d83fb0280687317b6377281e27230
      size: 20213998
  add_features:
    cmd: python ./src/data_service/features/add_features.py
    deps:
    - path: ./data/processed_data/nas_completed_data.csv
      hash: md5
      md5: 963d83fb0280687317b6377281e27230
      size: 20213998
    - path: ./src/data_service/features/add_features.py
      hash: md5
      md5: 771a579e7ce15f78031d5b59fe5c6fb2
      size: 1941
    outs:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 8773448c1444e6418b0ccdae0f296995
      size: 22724646
  encode_data:
    cmd: python ./src/data_service/encode_data/encode_data.py
    deps:
    - path: ./data/processed_data/augmented_data.csv
      hash: md5
      md5: 8773448c1444e6418b0ccdae0f296995
      size: 22724646
    - path: ./src/data_service/encode_data/encode_data.py
      hash: md5
      md5: b774fa8fe3e6ec90b8fa06642c6c8b1c
      size: 8504
    outs:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: b665a28768dfb0ade3a2d823c300c7b8
      size: 46786361
  split_data:
    cmd: python ./src/data_service/split_data/split_data.py
    deps:
    - path: ./data/processed_data/encoded_data.csv
      hash: md5
      md5: b665a28768dfb0ade3a2d823c300c7b8
      size: 46786361
    - path: ./src/data_service/split_data/split_data.py
      hash: md5
      md5: 6a0f745ccfdeb37933015a0ad35a9b4c
      size: 3229
    outs:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: da4feb9f4f9d8d0a3eba59316473a8ec
      size: 7226522
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 91a01df0e5e05a282c882c861af5ec16
      size: 28901089
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 41fd49881b83fe13e66866cdcfd1fece
      size: 52833
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: c04d149e0e92ac25c90cc9ad632b58b9
      size: 211289
  scale_data:
    cmd: python ./src/data_service/scale_data/scale_data.py
    deps:
    - path: ./data/processed_data/X_test.csv
      hash: md5
      md5: da4feb9f4f9d8d0a3eba59316473a8ec
      size: 7226522
    - path: ./data/processed_data/X_train.csv
      hash: md5
      md5: 91a01df0e5e05a282c882c861af5ec16
      size: 28901089
    - path: ./src/data_service/scale_data/scale_data.py
      hash: md5
      md5: 0ccefd2f49e7fdd171f0a1ee327c5ae3
      size: 1853
    outs:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: c52cf6f18a9ecf18c6b7983e089edee9
      size: 15568807
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: b03256c208d6301aceec051a1b3242be
      size: 62269549
  train:
    cmd: python ./src/modeling_service/training/train.py
    deps:
    - path: ./data/processed_data/X_train_scaled.csv
      hash: md5
      md5: b03256c208d6301aceec051a1b3242be
      size: 62269549
    - path: ./data/processed_data/y_train.csv
      hash: md5
      md5: c04d149e0e92ac25c90cc9ad632b58b9
      size: 211289
    - path: ./src/modeling_service/training/train.py
      hash: md5
      md5: 958beb2e1a74cc574c79288e580f6154
      size: 2650
    outs:
    - path: ./models/
      hash: md5
      md5: 133286eeda127cd65e9b98022d2fee76.dir
      size: 4911252
      nfiles: 2
  evaluate:
    cmd: python ./src/modeling_service/evaluate/evaluate.py
    deps:
    - path: ./data/processed_data/X_test_scaled.csv
      hash: md5
      md5: c52cf6f18a9ecf18c6b7983e089edee9
      size: 15568807
    - path: ./data/processed_data/y_test.csv
      hash: md5
      md5: 41fd49881b83fe13e66866cdcfd1fece
      size: 52833
    - path: ./models/
      hash: md5
      md5: 133286eeda127cd65e9b98022d2fee76.dir
      size: 4911252
      nfiles: 2
    - path: ./src/modeling_service/evaluate/evaluate.py
      hash: md5
      md5: e57d67bce9ac95cf05eb5bcf940efcda
      size: 4238
    outs:
    - path: ./metrics/
      hash: md5
      md5: 5f6404946be618b4b2bf28334b147e42.dir
      size: 517
      nfiles: 2
    - path: metrics/RainTomorrow/LogisticRegression_metrics.json
      hash: md5
      md5: 964dd29af8e727cd725e8df0de443f20
      size: 259
  mlflow_setup:
    cmd: python .\src\tracking_service\mlflow\mlflow_setup.py
    deps:
    - path: .\src\tracking_service\mlfow\mlflow_setup.py
      hash: md5
      md5: 9e9fa350f81bb47b8f89ad133fef459b
      size: 5384
    outs:
    - path: .\data\parameters
      hash: md5
      md5: b6d53610be9837c3369afd6b82b45388.dir
      size: 1864
      nfiles: 4
